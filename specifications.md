# Marketing Ops Agent - Current Specifications (V0.2)

現在のシステム（V0.2）の対応範囲と、未対応（Future Work）の機能一覧です。

## ✅ 実装済み機能 (Implemented)

### 1. インフラ & 実行環境
- **Cloudflare Workers**: サーバーレス環境での動作。
- **Cron Trigger**: 毎日 09:00 (JST) に自動実行。
- **D1 Database**: 成果物の永続化保存（`contents` テーブル）。
- **Hono Dashboard**: ブラウザから成果物を確認・承認できる簡易管理画面。

### 2. AIエージェント (Logic)
- **LangGraph**: 複数のエージェントが連携するワークフロー。
- **Supervisor**: 全体の指揮・進行管理。
- **Analyst (分析官)**:
    - 数値データの分析レポート作成。
    - **機能**: Mockデータ生成機能（ランダムなPV数などを生成して分析）。
- **Creative (制作)**:
    - TikTok / Instagram / X 用の投稿コンテンツ生成。
    - **機能**: 各プラットフォームに最適化されたJSON構造化出力。
- **Community (広報)**:
    - ユーザーコメントの分析と返信案作成。
    - **機能**: 感情分析 (Positive/Negative) と リスクスコア判定 (1-10)。

### 3. 運用フロー
- 生成されたコンテンツは `status: pending` としてDBに保存。
- 管理画面で「Approve」ボタンを押すと `status: approved` に更新。

---

## ⚠️ モック/シミュレーション (Mocked)
*以下の機能は「動いているように見える」状態ですが、実際の外部データは使っていません。*

- **入力データ (Data Source)**:
    - TikTokやGoogle Analyticsからの**実データ取得は行っていません**。
    - 内部の乱数生成器が「今日の再生数: 15,000回」のようなデータを作っています。
- **コミュニティ反応**:
    - 実際のSNSへのリプライやDMは**取得していません**。
    - テスト用に用意された「架空のユーザーコメント」に対して分析を行っています。

---

## 🚧 未対応 / 次のフェーズ (Not Implemented)

### 1. 外部API連携 (Real Integration)
- **SNS投稿**:
    - 管理画面で「Approve」しても、**実際のSNSには投稿されません**（DBのステータスが変わるだけです）。
    - *次回以降の実装*: X API, TikTok API等を使った自動投稿。
- **データ取得**:
    - 実際のフォロワー増減や再生数をAPIから取得する機能。

### 2. セキュリティ (Security)
- **管理画面の認証**:
    - 現在、ダッシュボードはURLを知っていれば誰でもアクセス可能です（Basic認証やCloudflare Access未設定）。

### 3. 通知 (Notification)
- エージェントが仕事を終えた時に、SlackやDiscordに通知する機能。

---

## 💡 まとめ
現在のバージョンは **「脳みそ（AI思考回路）」と「記憶（DB）」が完成** した状態です。
**「手足（外部APIへのアクセス）」はまだない** ため、人間が管理画面を見て、コピペして投稿する必要があります。
